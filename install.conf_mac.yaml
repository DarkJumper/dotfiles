# maybe change the structure of this file later
- clean: 
    - "~"
    - "~/.config/fish"
    - '~/.config/git'

- defaults:
    link:
      relink: true
      force: true

- shell:
    - [/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"] # Installiere Brew
    - [brew install fish] #Instlal Fish
    - [brew install tmux] # Install tmux
    - [brew install openssl readline sqlite3 xz zlib] # install all dependencies for pyenv
    - [brew install pyenv] # Install pyenv

- link:
    # Fish shell config files
    ~/.config/fish/config.fish: fish/config.fish
    ~/.config/fish/fish_variables: fish/fish_variables
    ~/.gitconfig: gitconfig
    ~/.tmux.conf: mac/tmux.conf
    ~/.zprofile: mac/zprofile
    ~/.zshrc: mac/zshrc

- shell:
    - [git submodule update --init --recursive, Installing submodules]

# Setting up vscode:
- link:
    # vscode:
    "~/Library/Application Support/Code/User/settings.json":
      path: vscode/settings.json
      create: true

- shell:
    - [bash ./vscode/install.sh, Installing vscode extensions]

# Setting all Python thinks
- shell:
    - [git clone https://github.com/pyenv/pyenv.git ~/.pyenv] #Instaliere Pyen in verzeichnis
    - [set -Ux PYENV_ROOT $HOME/.pyenv && set -Ux fish_user_paths $PYENV_ROOT/bin $fish_user_paths] #path for fish
    - [echo -e 'if command -v pyenv 1>/dev/null 2>&1; then\n  eval "$(pyenv init - | source)"\nfi' >> ~/.bash_profile] # end of the shell configuration
    - [pip install --upgrade pip]
    - [pip install yapf]